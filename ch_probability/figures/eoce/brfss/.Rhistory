setwd("~/Desktop/Open Intro/AHHS/ch_summarizing_data/figures/eoce/mlb")
d = read.csv("mlb2014.csv")
set.seed(345)
d10 = d[sample(1:nrow(d), 10), ]
d10 = d10[order(d10$team), ]
xtable(data.frame(Team = d10$team, Runs = d10$runs, Home_runs = d10$home_runs, Batting_avg = d10$batting_avg))
library(xtable)
xtable(data.frame(Team = d10$team, Runs = d10$runs, Home_runs = d10$home_runs, Batting_avg = d10$batting_avg))
xtable(data.frame(Team = d10$team, Runs = d10$runs, Home_runs = d10$home_runs, Batting_avg = d10$batting_avg), digits = 3)
setwd("~/Desktop/Open Intro/AHHS/ch_summarizing_data/figures/eoce/cereal")
library(xtable)
library(stringr)
library(openintro)
library(BHH2)
d = read.csv("cereal_nutrition_info.csv")
View(d)
d = d[-which(d$target == ""),]
# create name
d$variety = str_replace(d$variety, "\\(Regular\\)", "")
d$name = paste(d$brand, d$variety)
# dataset for cereals targeted to children
child = droplevels(d[d$target == "Child",])
set.seed(123)
child_20 = child[sample(1:nrow(child), 20),]
child_20_sugarsorted = child_20[order(child_20$sugar_perc_g),]
xtable(data.frame(name = child_20_sugarsorted$name, sugar_perc = child_20_sugarsorted$sugar_perc_g))
child_20_fibersorted = child_20[order(child_20$fiber_perc_g),]
xtable(data.frame(name = child_20_fibersorted$name, sugar_perc = child_20_fibersorted$fiber_perc_g), digits = 3)
xtable(data.frame(name = child_20_fibersorted$name, sugar_perc = child_20_fibersorted$fiber_perc_g*100), digits = 3)
xtable(data.frame(name = child_20_fibersorted$name, sugar_perc = child_20_fibersorted$fiber_perc_g*100), digits = 1)
xtable(data.frame(name = child_20_fibersorted$name, sugar_perc = paste(child_20_fibersorted$fiber_perc_g*100), "%"), digits = 1)
xtable(data.frame(name = child_20_fibersorted$name, sugar_perc = child_20_fibersorted$fiber_perc_g*100), digits = 1)
stem(child_20$fiber_perc_g)
stem(child_20$fiber_perc_g*100)
child_20_sugarsorted = child_20[order(child_20$sugar_perc_g),]
xtable(data.frame(name = child_20_sugarsorted$name, sugar_perc = child_20_sugarsorted$sugar_perc_g*100))
xtable(data.frame(name = child_20_sugarsorted$name, sugar_perc = child_20_sugarsorted$sugar_perc_g*100), digits = 1)
xtable(data.frame(name = child_20_sugarsorted$name, sugar_perc = child_20_sugarsorted$sugar_perc_g*100), digits = 0)
setwd("~/Desktop/Open Intro/AHHS/ch_summarizing_data/figures/eoce/acs")
library(openintro)
load("acs.RData")
acs = acs[acs$employment == "employed" & !is.na(acs$employment) & acs$income > 0 & !is.na(acs$income), ]
# take a random sample of 20
set.seed(100)
acs20 = acs[sample(1:nrow(acs), 20), ]
xtable(data.frame(Income = acs20$income, Age = acs20$age, Gender = acs20$gender))
par(mar=c(3.6,3.6,1,1), mgp=c(2.5,0.7,0), cex.lab = 1.25, cex.axis = 1.25)
plot(acs20$income ~ acs20$age, xlab='Age', ylab='Income', pch=19, col=COL[1,2], axes = FALSE, ylim = c(0, 120000), xlim = c(15,65))
axis(1)
axis(2, at = seq(0, 120000, 20000), labels = c(0, "20K", "40K", "60K", "80K", "100K", "120K"), las = 1)
plot(acs20$income[acs20$gender == "male"] ~ acs20$age[acs20$gender == "male"], xlab='Age', ylab='Income', pch=19, col=COL[2,2], axes = FALSE, ylim = c(0, 120000), xlim = c(15,65))
axis(1)
axis(2, at = seq(0, 120000, 20000), labels = c(0, "20K", "40K", "60K", "80K", "100K", "120K"), las = 1)
par(cex.lab = 1.25, cex.axis = 1.25)
histPlot(acs20$income[acs20$gender == "male"], border = COL[1], hollow = TRUE, xlab = "Income", ylab = "", lwd = 3, axes = FALSE)
axis(2)
axis(1, seq(0, 120000, 20000), labels = c(0, "20K", "40K", "60K", "80K", "100K", "120K"))
histPlot(acs20$income[acs20$gender == "female"], border = COL[4], hollow = TRUE, add = TRUE, lty=3, lwd=4)
legend("topright", c("male", "female"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = 2, cex = 1.1)
setwd("~/Desktop/Open Intro/AHHS/ch_summarizing_data/figures/eoce/acs")
myPDF("income_male_female.pdf", 5, 3.3, mar=c(3.6, 2, 1, 0.5), mgp=c(2.4, 0.7, 0))
par(cex.lab = 1.25, cex.axis = 1.25)
histPlot(acs20$income[acs20$gender == "male"], border = COL[1], hollow = TRUE, xlab = "Income", ylab = "", lwd = 3, axes = FALSE)
axis(2)
axis(1, seq(0, 120000, 20000), labels = c(0, "20K", "40K", "60K", "80K", "100K", "120K"))
histPlot(acs20$income[acs20$gender == "female"], border = COL[4], hollow = TRUE, add = TRUE, lty=3, lwd=4)
legend("topright", c("male", "female"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = c(3,4), cex = 1.1)
dev.off()
par(cex.lab = 1.25, cex.axis = 1.25)
histPlot(acs20$income[acs20$gender == "male"], border = COL[1], hollow = TRUE, xlab = "Income", ylab = "", lwd = 3, axes = FALSE)
axis(2)
axis(1, seq(0, 120000, 20000), labels = c(0, "20K", "40K", "60K", "80K", "100K", "120K"))
histPlot(acs20$income[acs20$gender == "female"], border = COL[4], hollow = TRUE, add = TRUE, lty=3, lwd=4)
legend("topright", c("male", "female"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = c(3,4), cex = 1.1)
par(cex.lab = 1.25, cex.axis = 1.25)
histPlot(acs20$income[acs20$gender == "male"], border = COL[1], hollow = TRUE, xlab = "Income", ylab = "", lwd = 3, axes = FALSE)
axis(2)
axis(1, seq(0, 120000, 20000), labels = c(0, "20K", "40K", "60K", "80K", "100K", "120K"))
histPlot(acs20$income[acs20$gender == "female"], border = COL[4], hollow = TRUE, add = TRUE, lty=3, lwd=5)
legend("topright", c("male", "female"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = c(3,5), cex = 1.1)
myPDF("income_male_female.pdf", 5, 3.3, mar=c(3.6, 2, 1, 0.5), mgp=c(2.4, 0.7, 0))
par(cex.lab = 1.25, cex.axis = 1.25)
histPlot(acs20$income[acs20$gender == "male"], border = COL[1], hollow = TRUE, xlab = "Income", ylab = "", lwd = 3, axes = FALSE)
axis(2)
axis(1, seq(0, 120000, 20000), labels = c(0, "20K", "40K", "60K", "80K", "100K", "120K"))
histPlot(acs20$income[acs20$gender == "female"], border = COL[4], hollow = TRUE, add = TRUE, lty=3, lwd=5)
legend("topright", c("male", "female"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = c(3,5), cex = 1.1)
dev.off()
histPlot(acs20$income[acs20$gender == "male"], border = COL[1], hollow = TRUE, xlab = "Income", ylab = "", lwd = 3, axes = FALSE)
axis(2)
axis(1, seq(0, 120000, 20000), labels = c(0, "20K", "40K", "60K", "80K", "100K", "120K"))
histPlot(acs20$income[acs20$gender == "female"], border = COL[4], hollow = TRUE, add = TRUE, lty=3, lwd=5)
legend("topright", c("male", "female"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = c(3,5), cex = 1.1)
library(openintro)
data(acs12)
#load("acs.RData")
# drop unemployed
acs = acs[acs$employment == "employed" & !is.na(acs$employment) & acs$income > 0 & !is.na(acs$income), ]
# take a random sample of 20
set.seed(100)
acs20 = acs[sample(1:nrow(acs), 20), ]
##########
# Part 1 #
##########
# create table
xtable(data.frame(Income = acs20$income, Age = acs20$age, Gender = acs20$gender))
myPDF("income_age.pdf", 5, 3.3)
par(mar=c(3.6,3.6,1,1), mgp=c(2.5,0.7,0), cex.lab = 1.25, cex.axis = 1.25)
plot(acs20$income ~ acs20$age, xlab='Age', ylab='Income', pch=19, col=COL[1,2], axes = FALSE, ylim = c(0, 120000), xlim = c(15,65))
axis(1)
axis(2, at = seq(0, 120000, 20000), labels = c(0, "20K", "40K", "60K", "80K", "100K", "120K"), las = 1)
dev.off()
myPDF("income_age_male.pdf", 5, 3.3)
par(mar=c(3.6,3.6,1,1), mgp=c(2.5,0.7,0), cex.lab = 1.25, cex.axis = 1.25)
plot(acs20$income[acs20$gender == "male"] ~ acs20$age[acs20$gender == "male"], xlab='Age', ylab='Income', pch=19, col=COL[2,2], axes = FALSE, ylim = c(0, 120000), xlim = c(15,65))
axis(1)
axis(2, at = seq(0, 120000, 20000), labels = c(0, "20K", "40K", "60K", "80K", "100K", "120K"), las = 1)
dev.off()
myPDF("income_age_female.pdf", 5, 3.3)
par(mar=c(3.6,3.6,1,1), mgp=c(2.5,0.7,0), cex.lab = 1.25, cex.axis = 1.25)
plot(acs20$income[acs20$gender == "female"] ~ acs20$age[acs20$gender == "female"], xlab='Age', ylab='Income', pch=19, col=COL[4,2], axes = FALSE, ylim = c(0, 120000), xlim = c(15,65))
axis(1)
axis(2, at = seq(0, 120000, 20000), labels = c(0, "20K", "40K", "60K", "80K", "100K", "120K"), las = 1)
dev.off()
##########
# Part 2 #
##########
myPDF("income_male_female.pdf", 5, 3.3, mar=c(3.6, 2, 1, 0.5), mgp=c(2.4, 0.7, 0))
par(cex.lab = 1.25, cex.axis = 1.25)
histPlot(acs20$income[acs20$gender == "male"], border = COL[1], hollow = TRUE, xlab = "Income", ylab = "", lwd = 3, axes = FALSE)
axis(2)
axis(1, seq(0, 120000, 20000), labels = c(0, "20K", "40K", "60K", "80K", "100K", "120K"))
histPlot(acs20$income[acs20$gender == "female"], border = COL[4], hollow = TRUE, add = TRUE, lty=3, lwd=4)
legend("topright", c("male", "female"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = c(3,4), cex = 1.1)
dev.off()
histPlot(d$pretest[d$ap_stats == "yes"], border = COL[1], hollow = TRUE, xlab = "Score", ylab = "", lwd = 3, axes = FALSE, ylim = c(0,3))
setwd("~/Desktop/Open Intro/AHHS/ch_summarizing_data/figures/eoce/apstats")
library(openintro)
d = read.csv("apstats.csv")
# AP stats scores
d_ap = d[d$ap_stats == "yes",]
cat(sort(d_ap$pretest), sep = ", ")
# no AP stats scores
d_no_ap = d[d$ap_stats == "no",]
cat(sort(d_no_ap$pretest), sep = ", ")
par(mar=c(3.6, 3, 1, 0.5), cex.lab = 1.25, cex.axis = 1.25)
histPlot(d$pretest, col = COL[1], xlab = "Score", axes = FALSE, ylab = "", ylim = c(0,7))
axis(1)
axis(2, at = c(0:7), labels = c(0:7)/20, las = 1)
histPlot(d$pretest[d$ap_stats == "yes"], border = COL[1], hollow = TRUE, xlab = "Score", ylab = "", lwd = 3, axes = FALSE, ylim = c(0,3))
axis(1)
axis(2, at = c(0:3), las = 1)
histPlot(d$pretest[d$ap_stats == "no"], border = COL[4], hollow = TRUE, xlab = "Income", add = TRUE, lty=4, lwd=2)
min(d$pretest[d$ap_stats == "no"])
histPlot(d$pretest[d$ap_stats == "yes"], border = COL[1], hollow = TRUE, xlab = "Score", ylab = "", lwd = 3, axes = FALSE, ylim = c(0,3), xlim = c(40,85))
axis(1)
axis(2, at = c(0:3), las = 1)
histPlot(d$pretest[d$ap_stats == "no"], border = COL[4], hollow = TRUE, xlab = "Income", add = TRUE, lty=4, lwd=2)
legend("topright", c("AP Stats: yes", "AP Stats: no"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = 2, cex = 1.1)
histPlot(d$pretest[d$ap_stats == "yes"], border = COL[1], hollow = TRUE, xlab = "Score", ylab = "", lwd = 3, axes = FALSE, ylim = c(0,3), xlim = c(40,85))
axis(1)
axis(2, at = c(0:3), las = 1)
histPlot(d$pretest[d$ap_stats == "no"], border = COL[4], hollow = TRUE, xlab = "Income", add = TRUE, lty=4, lwd=4)
legend("topright", c("AP Stats: yes", "AP Stats: no"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = c(3,4), cex = 1.1)
setwd("~/Desktop/Open Intro/AHHS/ch_summarizing_data/figures/eoce/apstats")
library(openintro)
d = read.csv("apstats.csv")
# AP stats scores
d_ap = d[d$ap_stats == "yes",]
cat(sort(d_ap$pretest), sep = ", ")
# no AP stats scores
d_no_ap = d[d$ap_stats == "no",]
cat(sort(d_no_ap$pretest), sep = ", ")
# rel freq for all
myPDF("apstats_relfreq.pdf", 5, 3.3, mgp=c(2.4, 0.7, 0))
par(mar=c(3.6, 3, 1, 0.5), cex.lab = 1.25, cex.axis = 1.25)
histPlot(d$pretest, col = COL[1], xlab = "Score", axes = FALSE, ylab = "", ylim = c(0,7))
axis(1)
axis(2, at = c(0:7), labels = c(0:7)/20, las = 1)
dev.off()
# box and hollow
myPDF("apstats_box_hollow.pdf", 5*2, 3.3, mar=c(3.6, 2, 1, 0.5), mgp=c(2.4, 0.7, 0))
par(mfrow = c(1,2), cex.lab = 1.25, cex.axis = 1.25)
# hollows
histPlot(d$pretest[d$ap_stats == "yes"], border = COL[1], hollow = TRUE, xlab = "Score", ylab = "", lwd = 3, axes = FALSE, ylim = c(0,3), xlim = c(40,85))
axis(1)
axis(2, at = c(0:3), las = 1)
histPlot(d$pretest[d$ap_stats == "no"], border = COL[4], hollow = TRUE, xlab = "Income", add = TRUE, lty=4, lwd=4)
legend("topright", c("AP Stats: yes", "AP Stats: no"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = c(3,4), cex = 1.1)
# side-by-sides
boxPlot(d$pretest, d$ap_stats, xlab='AP Stats', ylab='Score', lcol="#00000000", col="#00000000")
boxPlot(d$pretest[d$ap_stats == "no"], lcol=COL[4], col=COL[4], add=1)
boxPlot(d$pretest[d$ap_stats == "yes"], lcol=COL[1], col=COL[1], add=2)
dev.off()
histPlot(d$pretest[d$ap_stats == "yes"], border = COL[1], hollow = TRUE, xlab = "Score", ylab = "", lwd = 3, axes = FALSE, ylim = c(0,3), xlim = c(40,85))
axis(1)
axis(2, at = c(0:3), las = 1)
histPlot(d$pretest[d$ap_stats == "no"], border = COL[4], hollow = TRUE, xlab = "Income", add = TRUE, lty=3, lwd=4)
legend("topright", c("AP Stats: yes", "AP Stats: no"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = c(3,4), cex = 1.1)
histPlot(d$pretest[d$ap_stats == "yes"], border = COL[1], hollow = TRUE, xlab = "Score", ylab = "", lwd = 3, axes = FALSE, ylim = c(0,3), xlim = c(40,85))
axis(1)
axis(2, at = c(0:3), las = 1)
histPlot(d$pretest[d$ap_stats == "no"], border = COL[4], hollow = TRUE, xlab = "Income", add = TRUE, lty=3, lwd=4)
legend("topright", c("AP Stats: yes", "AP Stats: no"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = c(3,4), cex = 1.1)
histPlot(d$pretest[d$ap_stats == "yes"], border = COL[1], hollow = TRUE, xlab = "Score", ylab = "", lwd = 3, lty = 2, axes = FALSE, ylim = c(0,3), xlim = c(40,85))
axis(1)
axis(2, at = c(0:3), las = 1)
histPlot(d$pretest[d$ap_stats == "no"], border = COL[4], hollow = TRUE, xlab = "Income", add = TRUE, lty=3, lwd=4)
legend("topright", c("AP Stats: yes", "AP Stats: no"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = c(3,4), cex = 1.1)
setwd("~/Desktop/Open Intro/AHHS/ch_summarizing_data/figures/eoce/apstats")
library(openintro)
d = read.csv("apstats.csv")
# AP stats scores
d_ap = d[d$ap_stats == "yes",]
cat(sort(d_ap$pretest), sep = ", ")
# no AP stats scores
d_no_ap = d[d$ap_stats == "no",]
cat(sort(d_no_ap$pretest), sep = ", ")
# rel freq for all
myPDF("apstats_relfreq.pdf", 5, 3.3, mgp=c(2.4, 0.7, 0))
par(mar=c(3.6, 3, 1, 0.5), cex.lab = 1.25, cex.axis = 1.25)
histPlot(d$pretest, col = COL[1], xlab = "Score", axes = FALSE, ylab = "", ylim = c(0,7))
axis(1)
axis(2, at = c(0:7), labels = c(0:7)/20, las = 1)
dev.off()
# box and hollow
myPDF("apstats_box_hollow.pdf", 5*2, 3.3, mar=c(3.6, 2, 1, 0.5), mgp=c(2.4, 0.7, 0))
par(mfrow = c(1,2), cex.lab = 1.25, cex.axis = 1.25)
# hollows
histPlot(d$pretest[d$ap_stats == "yes"], border = COL[1], hollow = TRUE, xlab = "Score", ylab = "", lwd = 3, lty = 2, axes = FALSE, ylim = c(0,3), xlim = c(40,85))
axis(1)
axis(2, at = c(0:3), las = 1)
histPlot(d$pretest[d$ap_stats == "no"], border = COL[4], hollow = TRUE, xlab = "Income", add = TRUE, lty=3, lwd=4)
legend("topright", c("AP Stats: yes", "AP Stats: no"), lty = c(2,3), col = c(COL[1],COL[4]), lwd = c(3,4), cex = 1.1)
# side-by-sides
boxPlot(d$pretest, d$ap_stats, xlab='AP Stats', ylab='Score', lcol="#00000000", col="#00000000")
boxPlot(d$pretest[d$ap_stats == "no"], lcol=COL[4], col=COL[4], add=1)
boxPlot(d$pretest[d$ap_stats == "yes"], lcol=COL[1], col=COL[1], add=2)
dev.off()
setwd("~/Desktop/Open Intro/AHHS/ch_summarizing_data/figures/eoce/smoking")
library(openintro)
data(smoking)
setwd("~/Desktop/Open Intro/AHHS/ch_summarizing_data/figures/eoce/smoking")
library(openintro)
data(smoking)
# Histograms
pdf("smoking_amountHist.pdf", 7, 4.3)
par(mar=c(3.6,3.6,1,1), las=1, mgp=c(2.5,0.7,0), mfrow = c(2,1), cex.axis = 1.5, cex.lab = 1.5)
histPlot(smoking$amtWeekends, xlab = "Amount Weekends", ylab = "", xlim = c(0,60), axes = FALSE, breaks = 30, col = COL[1])
axis(1, seq(0,60,10))
axis(2, seq(0,100,50))
histPlot(smoking$amtWeekdays, xlab = "Amount Weekdays", ylab = "", xlim = c(0,60), axes = FALSE, breaks = 30, col = COL[1])
axis(1, seq(0,60,10))
axis(2, seq(0,100,50))
dev.off()
library(openintro)
data(smoking)
# Histograms
pdf("smoking_amountHist.pdf", 7, 4.3)
par(mar=c(3.6,3.6,1,1), las=1, mgp=c(2.5,0.7,0), mfrow = c(2,1), cex.axis = 1.5, cex.lab = 1.5)
histPlot(smoking$amtWeekends, xlab = "Amount Weekends", ylab = "", xlim = c(0,60), axes = FALSE, breaks = 30, col = COL[1])
axis(1, seq(0,60,10))
axis(2, seq(0,100,50))
histPlot(smoking$amtWeekdays, xlab = "Amount Weekdays", ylab = "", xlim = c(0,60), axes = FALSE, breaks = 30, col = COL[1])
axis(1, seq(0,60,10))
axis(2, seq(0,100,50))
dev.off()
View(smoking)
setwd("~/Desktop/Open Intro/AHHS/ch_probability/figures/eoce/brfss")
source("http://www.openintro.org/stat/data/cdc.R")
library(openintro)
library(openintro)
View(cdc)
table(cdc$genhlth, cdc$hlthplan)
table(cdc$hlthplan, cdc$genhlth)
cdc$hlthplan[cdc$hlthplan == 0] = "No"
cdc$hlthplan[cdc$hlthplan == 1] = "Yes"
table(cdc$hlthplan, cdc$genhlth)
levels(cdc$genhlth)
?toupper
levels(cdc$genhlth) = c("Excellent", "Very good", "Good", "Fair", "Poor")
table(cdc$hlthplan, cdc$genhlth)
xtable(table(cdc$hlthplan, cdc$genhlth))
xtable(addmargins(table(cdc$hlthplan, cdc$genhlth)))
xtable(addmargins(table(cdc$hlthplan, cdc$genhlth)), digits = 0)
prop.table(table(cdc$hlthplan, cdc$genhlth))
xtable(prop.table(table(cdc$hlthplan, cdc$genhlth)))
xtable(prop.table(table(cdc$hlthplan, cdc$genhlth)), digits = 4)
xtable(addmarging(prop.table(table(cdc$hlthplan, cdc$genhlth)), digits = 4))
xtable(addmargins(prop.table(table(cdc$hlthplan, cdc$genhlth)), digits = 4))
xtable(addmargins(prop.table(table(cdc$hlthplan, cdc$genhlth)), digits = 4))
xtable(addmargins(prop.table(table(cdc$hlthplan, cdc$genhlth))), digits = 4)
